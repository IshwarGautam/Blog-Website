<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>IGTechTeam</title>

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      href="/static/images/favicon.png"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />

    <!-- Summernote CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-lite.min.css"
      rel="stylesheet"
    />

    <!-- Highlight.js -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>

    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <!-- jQuery & Summernote JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-lite.min.js"></script>

    <!-- Bootstrap JS (for navbar toggle) -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <style>
      body {
        background-color: #e6f0f7;
        font-family: "Segoe UI", sans-serif;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      .navbar {
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
        background-color: #1f2c39;
      }

      .navbar-brand {
        font-weight: bold;
        font-size: 1.4rem;
        color: #fff !important;
      }

      .navbar-nav .nav-link {
        color: #f8f9fa !important;
        font-weight: 500;
        padding: 8px 16px;
      }

      .navbar-nav .nav-link:hover {
        background-color: #485768;
        border-radius: 5px;
      }

      .navbar-nav .btn {
        border-radius: 8px;
        transition: all 0.2s ease;
      }

      .navbar-nav .btn:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .alert-warning {
        margin-top: 1rem;
        font-weight: 500;
        border-left: 6px solid #ffc107;
        background-color: #fff8e1;
      }

      .alert-danger {
        margin-top: 1rem;
      }

      .post-card {
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 100%;
        padding: 1rem;
      }

      .post-title {
        font-size: 1.75rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: #343a40;
      }

      /* Images in post content - full width only on mobile */
      @media (max-width: 1024px) {
        .post-content img[style] {
          width: 100% !important;
        }
      }

      .featured-image-container {
        display: flex;
        justify-content: center;
        align-items: center;
        max-width: 100%;
        aspect-ratio: 3 / 2;
        border-radius: 8px;
        overflow: hidden;
      }

      .featured-img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .badge {
        font-size: 0.875rem;
        font-weight: 600;
        padding: 5px 10px;
      }

      .text-dark {
        text-decoration: none;
      }

      /* Fix maximize fullscreen issue in Summernote */
      .note-editor.fullscreen {
        z-index: 9999 !important;
        position: fixed !important;
        top: 0;
        left: 0;
        width: 100% !important;
        height: 100% !important;
        background: white !important;
        overflow: auto;
      }

      body.note-editor-fullscreen {
        overflow: hidden;
      }

      .social-icons {
        padding-bottom: 10px;
      }

      .social-icons a {
        color: #f8f9fa;
        font-size: 1.5rem;
        margin: 0 10px;
        transition: all 0.3s ease;
      }

      .social-icons a:hover {
        color: #007bff;
        transform: scale(1.2);
      }

      .page-content{
        flex: 1;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-md navbar-light sticky-top">
      <div class="container">
        <a class="navbar-brand" href="/">
          IGTechTeam
        </a>

        <!-- Mobile toggle button -->
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarContent"
          aria-controls="navbarContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarContent">
          <div class="navbar-nav mr-auto">
            
            <a class="nav-link" href="/contact.html"
              >Contact</a
            >
            <a class="nav-link" href="/about.html">About me</a>
          </div>

          <div class="navbar-nav ml-auto d-flex align-items-center">
            <a
              class="btn btn-light px-4 py-2 fw-semibold shadow-sm mr-2"
              href="/login.html"
            >
              Login
            </a>

            
          </div>
        </div>
      </div>
    </nav>

    <!-- Site Notice -->
    <div class="container text-center">
      <div class="alert alert-warning" role="alert">
        🚧 Website construction is going on! Please check back later. 🚧
      </div>
    </div>

    <!-- Flash Messages -->
    <div class="container">
      
    </div>

    <!-- Page Content -->
    <div class="container page-content">

<!-- Post Header -->
<header
  class="post-header"
  style="
    background: linear-gradient(135deg, #1d2b64, #f8cdda);
    color: white;
    padding: 2.5rem;
    border-radius: 16px 16px 0 0;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    text-align: center;
  "
>
  <h1
    style="
      font-size: 2.8rem;
      font-weight: bold;
      color: white;
      -webkit-text-stroke: 1px black;
      text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);
      letter-spacing: 1px;
      text-align: center;
      margin-bottom: 1rem;
    "
  >
    Handwritten digit recognition using CNN | Deep Learning Project
  </h1>

  <span
    style="
      background: rgba(255, 255, 255, 0.2);
      padding: 0.4rem 1rem;
      border-radius: 20px;
      font-size: 0.95rem;
    "
  >
    🕒 2025-04-21 09:14:50.117231
  </span>
</header>

<!-- Post Body -->
<div
  class="post-content"
  style="
    padding: 2rem;
    background: #ffffff;
    border-radius: 0 0 16px 16px;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.05);
    margin-top: -1px;
  "
>
  <p><p><span style="font-size: 1rem;">Handwritten digit recognition is a simple project that should help you learn how a convolutional neural network works. In this lesson, I built a model with TensorFlow and Tflearn.</span></p><h2 class="wp-block-heading">What will you learn?</h2><ul class="wp-block-list"><!-- wp:list-item -->
<li><a href="#collect-images">Collection of digits/images&nbsp;</a></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="#create-data">Using that images to create data&nbsp;</a></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="#divide-data">Divide data into training and testing part</a></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="#create-model">Using that data to create a model&nbsp;</a></li>
<!-- /wp:list-item -->

<!-- wp:list-item -->
<li><a href="#prediction">Using that model to predict new digits.</a></li>
<!-- /wp:list-item --></ul><figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><div class="wp-block-embed__wrapper"><iframe frameborder="0" src="//www.youtube.com/embed/aqaD1wdeNeE" width="640" height="360" class="note-video-clip"></iframe><br></div></figure><h2 class="wp-block-heading" id="collect-images">1. Collect the images</h2><p>First of all, we have to collect images of digits (from 0 to 9). You can use the pyscreenshot package to gather images. It's downloadable via pip, which is Python Package Installer. Pip typically gets installed automatically when you install Python. To install pyscreenshot, open any terminal and enter the following command:</p><p><code><mark style="background-color: rgb(255, 231, 156);" class="has-inline-color has-luminous-vivid-orange-color">pip install pyscreenshot</mark></code></p><p>I'm also importing time since I want to pause my execution for a second so that I can draw the following image (digit). Everything is clear in the code below, but some may have difficulty locating the exact bbox coordinate value. This coordinate value determines the part of your screen that will be captured. It was found through trial and error. You might also try using the same&nbsp;coordinate that I am using&nbsp;for your first run. However, because our laptop sizes vary, it is possible that it will be different for you and me. So, you have to&nbsp;utilize the trial and error method to identify the correct coordinate value.</p><pre><code class="language-python hljs" contenteditable="true" style=""><span class="hljs-keyword">def</span> <span class="hljs-title function_">screen_capture</span>():
    <span class="hljs-keyword">import</span> pyscreenshot <span class="hljs-keyword">as</span> ImageGrab <span class="hljs-comment">#pip install pyscreenshot</span>
    <span class="hljs-keyword">import</span> time

    images_folder = <span class="hljs-string">"captured_images/0/"</span>
    <span class="hljs-comment">#images_folder = "new_images/"</span>

    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):
        time.sleep(<span class="hljs-number">5</span>)
        im = ImageGrab.grab(bbox=(<span class="hljs-number">60</span>, <span class="hljs-number">170</span>, <span class="hljs-number">400</span>, <span class="hljs-number">550</span>)) <span class="hljs-comment"># X1,Y1,X2,Y2</span>
        <span class="hljs-built_in">print</span> (<span class="hljs-string">"saved...."</span>,i)
        im.save(images_folder+<span class="hljs-built_in">str</span>(i)+<span class="hljs-string">'.png'</span>)
        <span class="hljs-built_in">print</span> (<span class="hljs-string">"clear screen now and redraw again..."</span>)
<span class="hljs-comment">#screen_capture()</span></code></pre><h2 class="wp-block-heading" id="create-data">2. Create data with a label</h2><p>This part involves converting the image name into a numpy array. We then use OpenCV to create data that can be utilized for building a model.</p><pre><code class="language-python hljs" contenteditable="true" style=""><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_label</span>(<span class="hljs-params">image_name</span>):
    <span class="hljs-string">""" Create an one-hot encoded vector from image name """</span> 
    <span class="hljs-keyword">if</span> image_name == <span class="hljs-string">'0'</span>:  
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'1'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'2'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'3'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'4'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'5'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'6'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'7'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'8'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>])
    <span class="hljs-keyword">elif</span> image_name == <span class="hljs-string">'9'</span>:
        <span class="hljs-keyword">return</span> np.array([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>])</code></pre><pre><code class="language-python hljs" contenteditable="true" style=""><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> cv2
<span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> shuffle
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm

<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_data</span>():
    data = []
    <span class="hljs-keyword">for</span> folder <span class="hljs-keyword">in</span> tqdm(os.listdir(<span class="hljs-string">"captured_images"</span>)):
        <span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> os.listdir(<span class="hljs-string">"captured_images/"</span>+folder):
            path = os.path.join(<span class="hljs-string">"captured_images"</span>,folder, img)
            img_data = cv2.imread(path, cv2.IMREAD_GRAYSCALE)
            <span class="hljs-keyword">try</span>:
                img_data = cv2.resize(img_data, (<span class="hljs-number">28</span>,<span class="hljs-number">28</span>))
            <span class="hljs-keyword">except</span> cv2.error <span class="hljs-keyword">as</span> e:
                <span class="hljs-keyword">continue</span>
            data.append([np.array(img_data), create_label(folder)])
    shuffle(data)
    <span class="hljs-keyword">return</span> data</code></pre><pre><code class="language-python hljs" contenteditable="true" style="">data = create_data()
</code><div><br></div></pre><pre class="wp-block-syntaxhighlighter-code"><span style="font-size: 2rem; color: rgb(0, 0, 0); font-family: sans-serif;">3. Dividing data into training and testing part</span></pre><p>We use training data to create a model and testing data to verify it.</p><pre><code class="language-python hljs" contenteditable="true" style="">train = data[:<span class="hljs-number">800</span>]
test = data[<span class="hljs-number">800</span>:]
X_train = np.array([i[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> train]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">28</span>,<span class="hljs-number">28</span>, <span class="hljs-number">1</span>)
y_train = [i[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> train]
X_test = np.array([i[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> test]).reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">28</span>,<span class="hljs-number">28</span>, <span class="hljs-number">1</span>)
y_test = [i[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> test]</code></pre><h2 class="wp-block-heading" id="create-model">4. Building the model</h2><p>This is an important step. You can create a model using the training and testing data. Training data trains our model whereas testing data validates our model.</p><pre><code class="language-python hljs" contenteditable="true" style=""><span class="hljs-keyword">import</span> warnings
warnings.filterwarnings(<span class="hljs-string">'ignore'</span>)

<span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf
<span class="hljs-keyword">import</span> tflearn
<span class="hljs-keyword">from</span> tflearn.layers.conv <span class="hljs-keyword">import</span> conv_2d, max_pool_2d
<span class="hljs-keyword">from</span> tflearn.layers.core <span class="hljs-keyword">import</span> input_data, dropout, fully_connected
<span class="hljs-keyword">from</span> tflearn.layers.estimator <span class="hljs-keyword">import</span> regression</code></pre><pre><code class="language-python hljs" contenteditable="true" style=""><span class="hljs-comment">## Steps of Convolutional neural network:</span>
<span class="hljs-comment"># 1. Convolution layers</span>
<span class="hljs-comment"># 2. Normalization</span>
<span class="hljs-comment"># 3. Pooling</span>
<span class="hljs-comment"># 4. Fully connected</span></code></pre><pre><code class="language-python hljs" contenteditable="true" style="">tf.reset_default_graph()
convnet = input_data(shape=[<span class="hljs-number">28</span>,<span class="hljs-number">28</span>, <span class="hljs-number">1</span>], name=<span class="hljs-string">'input'</span>) 
convnet = conv_2d(convnet, <span class="hljs-number">32</span>, <span class="hljs-number">5</span>, activation=<span class="hljs-string">'relu'</span>)
convnet = max_pool_2d(convnet, <span class="hljs-number">5</span>)
convnet = conv_2d(convnet, <span class="hljs-number">64</span>, <span class="hljs-number">5</span>, activation=<span class="hljs-string">'relu'</span>)
convnet = max_pool_2d(convnet, <span class="hljs-number">5</span>)
convnet = conv_2d(convnet, <span class="hljs-number">128</span>, <span class="hljs-number">5</span>, activation=<span class="hljs-string">'relu'</span>)
convnet = max_pool_2d(convnet, <span class="hljs-number">5</span>)
convnet = conv_2d(convnet, <span class="hljs-number">64</span>, <span class="hljs-number">5</span>, activation=<span class="hljs-string">'relu'</span>)
convnet = max_pool_2d(convnet, <span class="hljs-number">5</span>)
convnet = conv_2d(convnet, <span class="hljs-number">32</span>, <span class="hljs-number">5</span>, activation=<span class="hljs-string">'relu'</span>)
convnet = max_pool_2d(convnet, <span class="hljs-number">5</span>)
convnet = fully_connected(convnet, <span class="hljs-number">1024</span>, activation=<span class="hljs-string">'relu'</span>)
convnet = dropout(convnet, <span class="hljs-number">0.5</span>) <span class="hljs-comment">#prevent a model from overfitting</span>
convnet = fully_connected(convnet, <span class="hljs-number">10</span>, activation=<span class="hljs-string">'softmax'</span>)
convnet = regression(convnet, optimizer=<span class="hljs-string">'adam'</span>, learning_rate=<span class="hljs-number">0.001</span>, loss=<span class="hljs-string">'categorical_crossentropy'</span>, name=<span class="hljs-string">'targets'</span>)  
model = tflearn.DNN(convnet, tensorboard_verbose=<span class="hljs-number">1</span>)  
model.fit({<span class="hljs-string">'input'</span>: X_train}, {<span class="hljs-string">'targets'</span>: y_train}, n_epoch=<span class="hljs-number">12</span>,
          validation_set=({<span class="hljs-string">'input'</span>: X_test}, {<span class="hljs-string">'targets'</span>: y_test}),
          show_metric=<span class="hljs-literal">True</span>)</code></pre><h2 class="wp-block-heading" id="prediction">5. Let's predict and display using matplotlib</h2><p>Not it's time to make a prediction. Let's see if our model predicts correctly or not. You can visualize the output using the Matplotlib library.</p><pre><code class="language-python hljs" contenteditable="true" style=""><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_test_data</span>():
    data = []
    <span class="hljs-keyword">for</span> img <span class="hljs-keyword">in</span> tqdm(os.listdir(<span class="hljs-string">"new_images"</span>)):
        path = os.path.join(<span class="hljs-string">"new_images"</span>, img)
        img_num = img.split(<span class="hljs-string">'.'</span>)[<span class="hljs-number">0</span>] 
        img_data = cv2.imread(path, cv2.IMREAD_GRAYSCALE)
        <span class="hljs-keyword">try</span>:
            img_data = cv2.resize(img_data, (<span class="hljs-number">28</span>,<span class="hljs-number">28</span>))
        <span class="hljs-keyword">except</span> cv2.error <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">continue</span>
        data.append([np.array(img_data), img_num])

    shuffle(data)
    <span class="hljs-keyword">return</span> data</code></pre><pre><code class="language-python hljs" contenteditable="true" style="">test_data = create_test_data()</code></pre><pre><code class="language-python hljs" contenteditable="true" style=""><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt

fig = plt.figure(figsize=(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>))
<span class="hljs-keyword">for</span> num, data <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(test_data[:<span class="hljs-number">10</span>]):
    img_data = data[<span class="hljs-number">0</span>]
    y = fig.add_subplot(<span class="hljs-number">5</span>,<span class="hljs-number">5</span>, num + <span class="hljs-number">1</span>)
    orig = img_data
    data = img_data.reshape(<span class="hljs-number">28</span>,<span class="hljs-number">28</span>, <span class="hljs-number">1</span>)
    model_out = model.predict([data])
    str_label = <span class="hljs-string">"Prediction: "</span> + <span class="hljs-built_in">str</span>(np.argmax(model_out))

    y.imshow(orig, cmap=<span class="hljs-string">'gray'</span>)
    plt.title(str_label)
    y.axes.get_xaxis().set_visible(<span class="hljs-literal">False</span>)
    y.axes.get_yaxis().set_visible(<span class="hljs-literal">False</span>)
plt.show()</code></pre><h2 class="wp-block-heading"><strong>Final output:</strong></h2><h2 class="wp-block-heading"><img src="https://drive.google.com/thumbnail?id=16a2gKp5EixBKd6MWBE6S5xbHvSoXDTfS&sz=w1000" data-filename="digit-prediction.png" style="width: 631px;"></h2><figure class="wp-block-image size-large"><br></figure><h2 class="wp-block-heading">Conclusion:</h2><p>In this way, we can make Handwritten digit recognition using Convolutional Neural Network. Just we need to collect images of digits, create data, then use data to create a model, and then the final step is to make a prediction.</p><p><!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:heading -->

<!-- /wp:heading -->

<!-- wp:list -->

<!-- /wp:list -->

<!-- wp:embed {"url":"https://youtu.be/aqaD1wdeNeE","type":"video","providerNameSlug":"youtube","responsive":true,"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} -->

<!-- /wp:embed -->

<!-- wp:heading -->

<!-- /wp:heading -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:heading -->

<!-- /wp:heading -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:heading -->

<!-- /wp:heading -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:heading -->

<!-- /wp:heading -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:heading -->

<!-- /wp:heading -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:syntaxhighlighter/code {"language":"python"} -->

<!-- /wp:syntaxhighlighter/code -->

<!-- wp:heading -->

<!-- /wp:heading -->

<!-- wp:image {"id":1327,"sizeSlug":"large","linkDestination":"none"} -->

<!-- /wp:image -->

<!-- wp:heading -->

<!-- /wp:heading -->

<!-- wp:paragraph -->

<!-- /wp:paragraph -->

<!-- wp:paragraph -->

<!-- /wp:paragraph --></p><p>I hope this project is very helpful to you. If you have any questions, don't hesitate to ask me in the comment section. I will reply as soon as possible. Thanks.</p></p>
</div>

<!-- Comment section -->
<div class="comments-wrapper">
  <h4>Leave a Comment</h4>
  <form method="POST" class="p-3 bg-light rounded shadow">
    <input type="hidden" name="parent_id" value="" />

    <div class="form-group">
      <label>Your Name</label>
      <input type="text" name="name" class="form-control" required />
    </div>

    <div class="form-group">
      <label>Your Comment</label>
      <textarea name="content" class="form-control" rows="3" required></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Post Comment</button>
  </form>
</div>
<hr />



        <style>
        .comment-container {
            margin-left: 20px;
            margin-bottom: 1rem;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .comment-header {
            font-weight: 600;
            font-size: 0.95rem;
            color: #333;
            margin-bottom: 0.3rem;
        }

        .comment-timestamp {
            font-weight: 400;
            font-size: 0.8rem;
            color: #777;
            margin-left: 0.5rem;
        }

        .comment-content {
            margin-bottom: 0.8rem;
            white-space: pre-wrap;
        }

        .reply-link {
            font-size: 0.85rem;
            color: #1877f2;
            cursor: pointer;
            user-select: none;
        }

        .reply-link:hover {
            text-decoration: underline;
        }

        .reply-form {
            margin-top: 0.8rem;
            display: none;
        }

        .reply-form input,
        .reply-form textarea {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .reply-form button {
            font-size: 0.85rem;
        }

        /* Nested replies indent */
        .nested-replies {
            margin-left: 30px;
            margin-top: 1rem;
        }

        .comments-wrapper {
            margin: 20px auto;
            padding: 15px 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            font-family: Arial, sans-serif;
        }

        .comments-wrapper h4 {
            margin-bottom: 15px;
            color: #333;
            font-weight: 600;
            font-size: 1.5rem;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 5px;
        }
        </style>

      <div class="comments-wrapper">
        <h4>Comments</h4>
        <div class="comment-container">
            <p>Loading comments...</p>
        </div>
        </div>

        <script>
        (function () {
          const form = document.querySelector("form");
          const commentsContainer = document.querySelector(".comment-container");
          if (!form || !commentsContainer) return;

          const slug = "handwritten-digit-recognition-using-cnn-deep-learning-project";
          const submitBtn = form.querySelector("button[type='submit']");

          form.addEventListener("submit", function (e) {
            e.preventDefault();
            const data = {
              slug,
              name: form.name.value.trim(),
              content: form.content.value.trim(),
              parent_id: form.parent_id.value || null,
            };

            if (!data.name || !data.content) {
              alert("Please fill in your name and comment.");
              return;
            }

            const originalText = submitBtn.textContent;
            submitBtn.disabled = true;
            submitBtn.textContent = "Posting...";

            fetch("/.netlify/functions/submit_comment", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(data),
            })
            .then(res => {
              submitBtn.disabled = false;
              submitBtn.textContent = originalText;
              if (res.ok) {
                alert("Comment submitted!");
                form.reset();
                loadComments();
              } else {
                return res.text().then(text => alert("Failed: " + text));
              }
            })
            .catch(err => {
              submitBtn.disabled = false;
              submitBtn.textContent = originalText;
              alert("Error: " + err.message);
            });
          });

          function loadComments() {
            fetch(`/.netlify/functions/get_comments?slug=${encodeURIComponent(slug)}`)
              .then(res => {
                if (!res.ok) throw new Error("Failed to load comments");
                return res.json();
              })
              .then(comments => {
                commentsContainer.innerHTML = "";
                const map = {};
                comments.forEach(c => {
                  c.children = [];
                  map[c.id] = c;
                });
                comments.forEach(c => {
                  if (c.parent_id && map[c.parent_id]) {
                    map[c.parent_id].children.push(c);
                  }
                });

                const render = (comment) => {
                  const wrapper = document.createElement("div");
                  wrapper.className = "comment-container";

                  const header = document.createElement("div");
                  header.className = "comment-header";
                  header.innerHTML = `<strong>${escapeHtml(comment.name)}</strong><span class="comment-timestamp"> - ${new Date(comment.timestamp).toLocaleString()}</span>`;
                  wrapper.appendChild(header);

                  const content = document.createElement("div");
                  content.className = "comment-content";
                  content.textContent = comment.content;
                  wrapper.appendChild(content);

                  const replyLink = document.createElement("span");
                  replyLink.className = "reply-link";
                  replyLink.textContent = "Reply";
                  replyLink.onclick = () => toggleReplyForm(`reply-form-${comment.id}`);
                  wrapper.appendChild(replyLink);

                  const replyForm = document.createElement("form");
                  replyForm.method = "POST";
                  replyForm.className = "reply-form";
                  replyForm.id = `reply-form-${comment.id}`;
                  replyForm.innerHTML = `
                    <input type="hidden" name="parent_id" value="${comment.id}" />
                    <input type="text" name="name" placeholder="Your Name" class="form-control form-control-sm" required />
                    <textarea name="content" placeholder="Write a reply..." class="form-control form-control-sm" rows="2" required></textarea>
                    <button type="submit" class="btn btn-sm btn-primary">Post Reply</button>
                  `;
                  replyForm.addEventListener("submit", function (e) {
                    e.preventDefault();
                    const replyData = {
                      slug,
                      name: replyForm.name.value.trim(),
                      content: replyForm.content.value.trim(),
                      parent_id: comment.id,
                    };

                    if (!replyData.name || !replyData.content) {
                      alert("Please fill in your name and reply.");
                      return;
                    }

                    const replyBtn = replyForm.querySelector("button");
                    const originalText = replyBtn.textContent;
                    replyBtn.disabled = true;
                    replyBtn.textContent = "Posting...";

                    fetch("/.netlify/functions/submit_comment", {
                      method: "POST",
                      headers: {
                        "Content-Type": "application/json",
                      },
                      body: JSON.stringify(replyData),
                    })
                      .then(res => {
                        replyBtn.disabled = false;
                        replyBtn.textContent = originalText;
                        if (res.ok) {
                          alert("Reply submitted!");
                          replyForm.reset();
                          replyForm.style.display = "none";
                          loadComments();
                        } else {
                          return res.text().then(text => alert("Failed: " + text));
                        }
                      })
                      .catch(err => {
                        replyBtn.disabled = false;
                        replyBtn.textContent = originalText;
                        alert("Error: " + err.message);
                      });
                  });
                  wrapper.appendChild(replyForm);

                  if (comment.children.length) {
                    const nested = document.createElement("div");
                    nested.className = "nested-replies";
                    comment.children.forEach(child => nested.appendChild(render(child)));
                    wrapper.appendChild(nested);
                  }

                  return wrapper;
                };

                const topLevel = comments.filter(c => !c.parent_id);
                if (topLevel.length === 0) {
                  commentsContainer.innerHTML = "<p>No comments yet. Be the first to comment!</p>";
                } else {
                  topLevel.forEach(c => commentsContainer.appendChild(render(c)));
                }
              })
              .catch(err => {
                commentsContainer.innerHTML = "<p>Failed to load comments.</p>";
                console.error(err);
              });
          }

          function toggleReplyForm(id) {
            const form = document.getElementById(id);
            if (form) {
              const isHidden = window.getComputedStyle(form).display === "none";
              form.style.display = isHidden ? "block" : "none";
            }
          }

          function escapeHtml(text) {
            return text
              .replace(/&/g, "&amp;")
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;")
              .replace(/"/g, "&quot;")
              .replace(/'/g, "&#039;");
          }

          loadComments();
        })();
        </script>
        
<!-- Post Footer -->
<footer
  class="post-footer"
  style="
    margin-top: 2rem;
    background: #f1f3f6;
    padding: 2rem;
    border-radius: 16px;
    text-align: center;
    font-size: 0.95rem;
    color: #444;
    box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.05);
  "
>
  <p><strong>Author:</strong> Ishwar Gautam</p>

  <!-- Buttons -->
  <div style="margin: 1rem 0">
    <a
      href="/"
      class="btn btn-outline-primary"
      style="margin-right: 1rem"
      >← Back to Home</a
    >
    <a
      href="#"
      onclick="window.scrollTo({top: 0, behavior: 'smooth'});"
      class="btn btn-primary"
      >↑ Back to Top</a
    >
  </div>

  <!-- Social Icons -->
  <div class="social-icons" style="margin-top: 1.5rem">
    <a
      href="https://www.facebook.com/igtechteam/"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #3b5998"
      ><i class="fab fa-facebook"></i
    ></a>
    <a
      href="https://www.instagram.com/ishwar_gautam1/"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #e4405f"
      ><i class="fab fa-instagram"></i
    ></a>
    <a
      href="https://github.com/ishwargautam"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #333"
      ><i class="fab fa-github"></i
    ></a>
    <a
      href="https://www.linkedin.com/in/ishwargautam1"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #0077b5"
      ><i class="fab fa-linkedin"></i
    ></a>
    <a
      href="https://www.tiktok.com/@ishwar.gautam1?_t=8pdEalQ0Nn7&_r=1"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #000"
      ><i class="fab fa-tiktok"></i
    ></a>
  </div>

  <!-- YouTube Subscribe -->
  <div style="margin-top: 1.5rem">
    <a
      class="youtube-btn"
      href="https://www.youtube.com/channel/UC4Wf9XNPsbXwQqfKlUZfmtw?sub_confirmation=1"
      target="_blank"
      style="
        background: #ff0000;
        color: white;
        padding: 0.6rem 1.2rem;
        border-radius: 30px;
        text-decoration: none;
        font-weight: bold;
        transition: background 0.3s ease;
      "
    >
      🔔 Subscribe on YouTube
    </a>
  </div>
</footer>

</div>

    <!-- Footer -->
    
<!-- Leaving this empty so to skip base.html footer-->


    <!-- Summernote Initialization -->
    <script>
      $(document).ready(function () {
        $("#summernote").summernote({
          height: 300,
          toolbar: [
            ["style", ["style"]],
            ["font", ["bold", "italic", "underline", "clear"]],
            ["fontname", ["fontname"]],
            ["fontsize", ["fontsize"]],
            ["color", ["color"]],
            ["para", ["ul", "ol", "paragraph"]],
            ["insert", ["link", "picture", "video", "table", "hr"]],
            ["view", ["fullscreen", "codeview", "help"]],
            ["custom", ["codeblock"]],
          ],
          buttons: {
            codeblock: function (context) {
              var ui = $.summernote.ui;
              var button = ui.button({
                contents: '<i class="fa fa-code"></i> Code Block',
                tooltip: "Insert Code Block",
                click: function () {
                  let lang = prompt(
                    "Enter language (e.g. python, javascript, java, html, css):",
                    "python"
                  );
                  if (!lang) lang = "plaintext";

                  var codeBlock = `
                <pre><code class="language-${lang}" contenteditable="true" style="white-space: pre-wrap;"></code></pre>
              `;
                  context.invoke("editor.pasteHTML", codeBlock);
                  hljs.highlightAll();
                  var codeBlockNode =
                    context.invoke("editor.getBody").lastChild;
                  $(codeBlockNode).find("code").focus();
                },
              });
              return button.render();
            },
          },
        });

        // Auto-highlight on Enter inside code blocks
        $(".note-editable").on("keyup", function (e) {
          if (e.key === "Enter") {
            $(this)
              .find("pre code")
              .each(function () {
                hljs.highlightElement(this);
              });
          }
        });

        hljs.highlightAll();
      });
    </script>
  </body>
</html>