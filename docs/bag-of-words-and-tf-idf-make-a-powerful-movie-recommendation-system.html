<!DOCTYPE html>
<html lang="en">
  <head>

    <!-- Add auto ads -->
     <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4883532934102393"
     crossorigin="anonymous"></script>
     
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>IGTechTeam</title>

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      href="/static/images/favicon.png"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />

    <!-- TinyMCE CDN (v8, with API key) -->
    <script src="https://cdn.tiny.cloud/1/cu5386mwdbw5uvluas7htq32hn0uibngcmaylurs3dl7xhc9/tinymce/8/tinymce.min.js" referrerpolicy="origin" crossorigin="anonymous"></script>

    <!-- Highlight.js -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/github-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>

    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">


    <!-- jQuery (required for Bootstrap, not TinyMCE) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Bootstrap JS (for navbar toggle) -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/static/css/style.css">
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top glass-nav">
      <div class="container d-flex align-items-center justify-content-between">
        <!-- Left: Logo -->
        <a class="navbar-brand fw-bold fs-3" href="/">
          IGTechTeam
        </a>

        <!-- Center: Nav links -->
        <div class="collapse navbar-collapse justify-content-center" id="navbarContent">
          <ul class="navbar-nav align-items-center">
            
            <li class="nav-item mx-2">
              <a class="nav-link fw-semibold" href="/contact.html">Contact</a>
            </li>
            <li class="nav-item mx-2">
              <a class="nav-link fw-semibold" href="/about.html">About Me</a>
            </li>
            <!-- Play Game separated with margin -->
            <li class="nav-item mx-4 ms-5">
              <a class="nav-link fw-bold play-game-link" href="/game.html">Play Game</a>
            </li>
          </ul>
        </div>

        <!-- Right: Login/Logout buttons -->
        

        <!-- Toggler button for small screens -->
        <button
          class="navbar-toggler ms-3"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarContent"
          aria-controls="navbarContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>

    <!-- Site Notice -->
    
    


    <!-- Flash Messages -->
    <div class="container">
      
    </div>

    <!-- Page Content -->
    <div class="container page-content">

<!-- Post Header -->
<header
  class="post-header"
  style="
    background: linear-gradient(135deg, #1d2b64, #f8cdda);
    color: white;
    padding: 2.5rem;
    border-radius: 16px 16px 0 0;
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    text-align: center;
  "
>
  <h1
    style="
      font-size: 2.8rem;
      font-weight: bold;
      color: white;
      -webkit-text-stroke: 1px black;
      text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);
      letter-spacing: 1px;
      text-align: center;
      margin-bottom: 1rem;
    "
  >
    Bag of Words and TF-IDF: Make a Powerful Movie Recommendation System
  </h1>

  <span
    style="
      background: rgba(255, 255, 255, 0.2);
      padding: 0.4rem 1rem;
      border-radius: 20px;
      font-size: 0.95rem;
    "
  >
    üïí 2025-04-23 05:40:43.193235
  </span>
</header>

<!-- Post Body -->
<div
  class="post-content"
  style="
    padding: 2rem;
    background: #ffffff;
    border-radius: 0 0 16px 16px;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.05);
    margin-top: -1px;
  "
>
  <div class="post-body"><p><strong>Main content</strong>: Movie Recommendation System</p>
<h2 class="wp-block-heading">What will you learn?</h2>
<ol class="wp-block-list"><!-- wp:list-item -->
<li><a href="#bag-of-words">Bag of Words model</a></li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li><a href="#tf-idf">TF-IDF model</a></li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li><a href="#movie-project">Movie Recommendation System using TF-IDF model</a></li>
<!-- /wp:list-item --></ol>
<h2 id="bag-of-words" class="wp-block-heading">Bag of Words model</h2>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio">The <strong>bag of Words</strong> model is a feature extraction technique used in Natural Language Processing. The name 'bag of words' is due to its unordered arrangement of elements.</p>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio">&nbsp;<img style="width: 329px;" src="https://drive.google.com/thumbnail?id=1hCXG_ZnWsmDhy4oclAa250gNeXwksQVV&amp;sz=w1000" data-filename="bag-of-words.png"></p>
<figure class="wp-block-image aligncenter size-large"></figure>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio">The frequency of words in that text content is described by this model. The numbers 1 and 0 stand for the words that&nbsp;appear and do not appear, respectively. One disadvantage of this model is that it is messy and unstructured as shown in the above figure.</p>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio"><img style="font-size: 1rem; width: 100%;" src="https://drive.google.com/thumbnail?id=1ZCfVBMffE59zGsysQLNmcLGxgWzmW4CJ&amp;sz=w1000" data-filename="bag-of-words-slide.png"></p>
<figure class="wp-block-image size-large"></figure>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio">The words are case-sensitive i.e., uppercase and lowercase letters are different. So, this model takes 'Human' and 'human' as two words. So, it is good practice to convert all uppercase into lowercase before passing the text of words into this model.</p>
<div style="max-width: 650px; margin-left: auto; margin-right: auto;" data-ephox-embed-iri="https://youtu.be/L8X84Fq0ZkE">
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><iframe style="top: 0; left: 0; width: 100%; height: 100%; position: absolute; border: 0;" src="https://www.youtube.com/embed/L8X84Fq0ZkE?rel=0" scrolling="no" allow="accelerometer *; clipboard-write *; encrypted-media *; gyroscope *; picture-in-picture *; web-share *;" allowfullscreen="allowfullscreen" referrerpolicy="strict-origin"></iframe></div>
</div>
<pre><code class="language-python hljs" contenteditable="true"><span class="hljs-keyword">import</span> nltk
<span class="hljs-keyword">import</span> re
<span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> stopwords
<span class="hljs-keyword">from</span> nltk.stem <span class="hljs-keyword">import</span> WordNetLemmatizer

paragraph = <span class="hljs-string">"""Good people live good lives. Bad people attempt to live with what they desire, but they have a bad life."""</span>

wordnet=WordNetLemmatizer()
sentences = nltk.sent_tokenize(paragraph)
final_text = []
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(sentences)):
    review = re.sub(<span class="hljs-string">'[^a-zA-Z]'</span>, <span class="hljs-string">' '</span>, sentences[i])
    review = review.lower()
    review = review.split()
    review = [wordnet.lemmatize(word) <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> review <span class="hljs-keyword">if</span> word <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">set</span>(stopwords.words(<span class="hljs-string">'english'</span>))]
    review = <span class="hljs-string">' '</span>.join(review)
    final_text.append(review)
<span class="hljs-built_in">print</span>(final_text)

<span class="hljs-comment"># Creating the Bag of Words model</span>
<span class="hljs-keyword">from</span> sklearn.feature_extraction.text <span class="hljs-keyword">import</span> CountVectorizer
cv = CountVectorizer()
bag = cv.fit_transform(final_text).toarray()
<span class="hljs-built_in">print</span>(bag)</code></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio">&nbsp;</pre>
<h2 id="tf-idf" class="wp-block-heading">TF-IDF model | Natural Language Processing</h2>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio">Term Frequency and Inverse Document Frequency are abbreviated as TF-IDF. It determines the relevance of a word to a document in a collection of documents.</p>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio"><img style="width: 100%;" src="https://drive.google.com/thumbnail?id=1Bmi2jYmlymQcokExhojBbZnANHA_cqGo&amp;sz=w1000" data-filename="tf-idf.png"></p>
<figure class="wp-block-image size-large"></figure>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio">The bag of words model only contains 0 (not important) and 1 (important) values but it doesn't clarify how much that word is important. So, here comes the TF-IDF model which contains a fractional value from 0 to 1. Thus, the TF-IDF model signifies important, not important, and slightly important values.&nbsp;</p>
<div style="max-width: 650px; margin-left: auto; margin-right: auto;" data-ephox-embed-iri="https://youtu.be/V1dHstesbos">
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><iframe style="top: 0; left: 0; width: 100%; height: 100%; position: absolute; border: 0;" src="https://www.youtube.com/embed/V1dHstesbos?rel=0" scrolling="no" allow="accelerometer *; clipboard-write *; encrypted-media *; gyroscope *; picture-in-picture *; web-share *;" allowfullscreen="allowfullscreen" referrerpolicy="strict-origin"></iframe></div>
</div>
<pre><code class="language-python hljs" contenteditable="true"><span class="hljs-keyword">import</span> nltk
<span class="hljs-keyword">import</span> re
<span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> stopwords
<span class="hljs-keyword">from</span> nltk.stem <span class="hljs-keyword">import</span> WordNetLemmatizer

paragraph = <span class="hljs-string">"""Good people live good lives. Bad people attempt to live with what they desire, but they have a bad life."""</span>

wordnet=WordNetLemmatizer()
sentences = nltk.sent_tokenize(paragraph)
final_text = []
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(sentences)):
    review = re.sub(<span class="hljs-string">'[^a-zA-Z]'</span>, <span class="hljs-string">' '</span>, sentences[i])
    review = review.lower()
    review = review.split()

    lemmatizedWord = wordnet.lemmatize(word)
    list_stopwords = <span class="hljs-built_in">set</span>(stopwords.words(<span class="hljs-string">'english'</span>)
    review = [lemmatizedWord <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> review <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> word <span class="hljs-keyword">in</span> list_stopwords]

    review = <span class="hljs-string">' '</span>.join(review)
    final_text.append(review)
<span class="hljs-built_in">print</span>(final_text) 

<span class="hljs-comment"># Creating the TF-IDF model</span>
<span class="hljs-keyword">from</span> sklearn.feature_extraction.text <span class="hljs-keyword">import</span> TfidfVectorizer
cv = TfidfVectorizer(norm=<span class="hljs-string">'l2'</span>)
tfidf = cv.fit_transform(final_text).toarray()
<span class="hljs-built_in">print</span>(tfidf)

<span class="hljs-comment"># Display using pandas with features name</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
tfIdfVectorizer=TfidfVectorizer()
tfIdf = tfIdfVectorizer.fit_transform(final_text)
df = pd.DataFrame(tfIdf[<span class="hljs-number">0</span>].T.todense(), index=tfIdfVectorizer.get_feature_names(), columns=[<span class="hljs-string">"TF*IDF"</span>])
df = df.sort_values(<span class="hljs-string">'TF*IDF'</span>, ascending=<span class="hljs-literal">False</span>)
<span class="hljs-built_in">print</span>(df)</code></pre>
<figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio">
<div class="wp-block-embed__wrapper">&nbsp;</div>
</figure>
<h2 id="movie-project" class="wp-block-heading">Movie Recommendation System using TF-IDF model | Natural Language Processing</h2>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio">One of the most basic projects in Natural Language Processing is the Movie Recommendation System. If you enter one movie title, it will recommend/suggest several more. For example, if I give the movie name 'Spider-Man', then the related movies are its sequel movies: 'Spider-Man 2', 'Spider-Man 3' and so on.&nbsp;<br>I am using&nbsp;the <a href="https://www.kaggle.com/jrobischon/wikipedia-movie-plots" target="_blank" rel="noreferrer noopener">wiki_movie_plot</a> dataset for this purpose. The collection includes 34,886 movie descriptions from throughout the world. However, I am not using all of this data because it takes a lot of time. So, I filter only 'American' movies, and the release year is greater than 2015. Using movie plot/description, our task is to recommend similar movie names.</p>
<div style="max-width: 650px; margin-left: auto; margin-right: auto;" data-ephox-embed-iri="https://youtu.be/7GaAp0XkLpM">
<div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><iframe style="top: 0; left: 0; width: 100%; height: 100%; position: absolute; border: 0;" src="https://www.youtube.com/embed/7GaAp0XkLpM?rel=0" scrolling="no" allow="accelerometer *; clipboard-write *; encrypted-media *; gyroscope *; picture-in-picture *; web-share *;" allowfullscreen="allowfullscreen" referrerpolicy="strict-origin"></iframe></div>
</div>
<h2 class="wp-block-heading wp-embed-aspect-16-9 wp-has-aspect-ratio"><em>Movie Recommendation System using TF-IDF</em></h2>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio"><strong><em>1: Load the dataset</em></strong></p>
<pre><code class="language-python hljs" contenteditable="true"><span class="hljs-keyword">from</span> google.colab <span class="hljs-keyword">import</span> drive
drive.mount(<span class="hljs-string">"/content/drive"</span>)</code></pre>
<pre><code class="language-python hljs" contenteditable="true">cd <span class="hljs-string">'drive/My Drive'</span></code></pre>
<pre><code class="language-python hljs" contenteditable="true"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
data = pd.read_csv(<span class="hljs-string">"wiki_movie_plots_deduped.csv"</span>)
data.head()</code></pre>
<pre><code class="language-python hljs" contenteditable="true">data.shape</code></pre>
<pre><code class="language-python hljs" contenteditable="true"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
np.unique(data[<span class="hljs-string">'Origin/Ethnicity'</span>])</code></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio">&nbsp;</pre>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio"><strong><em>2: Choose only some portion of the data</em></strong></p>
<pre><code class="language-python hljs" contenteditable="true">data2 = data.loc[(data[<span class="hljs-string">'Origin/Ethnicity'</span>]==<span class="hljs-string">'American'</span>) &amp; (data[<span class="hljs-string">'Release Year'</span>]&gt;<span class="hljs-number">2015</span>)]
<span class="hljs-built_in">len</span>(data2)</code></pre>
<pre><code class="language-python hljs" contenteditable="true">my_data = pd.DataFrame(data2)</code></pre>
<pre><code class="language-python hljs" contenteditable="true">my_data.tail()</code></pre>
<pre><code class="language-python hljs" contenteditable="true">finaldata = my_data[[<span class="hljs-string">"Title"</span>, <span class="hljs-string">"Plot"</span>]]          
finaldata = finaldata.set_index(<span class="hljs-string">'Title'</span>)    
  
finaldata.head(<span class="hljs-number">50</span>)</code></pre>
<pre><code class="language-python hljs" contenteditable="true">finaldata[<span class="hljs-string">"Plot"</span>][<span class="hljs-string">"Criminal"</span>]</code></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio">&nbsp;</pre>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio"><strong><em>3: Preprocess the data</em></strong></p>
<pre><code class="language-python hljs" contenteditable="true"><span class="hljs-keyword">import</span> nltk
nltk.download(<span class="hljs-string">'punkt'</span>)
nltk.download(<span class="hljs-string">'averaged_perceptron_tagger'</span>)
nltk.download(<span class="hljs-string">'wordnet'</span>)
nltk.download(<span class="hljs-string">'stopwords'</span>)

<span class="hljs-keyword">from</span> nltk.stem <span class="hljs-keyword">import</span> WordNetLemmatizer
<span class="hljs-keyword">from</span> nltk.corpus <span class="hljs-keyword">import</span> stopwords

lemmatizer = WordNetLemmatizer() </code></pre>
<pre><code class="language-python hljs" contenteditable="true"><span class="hljs-keyword">def</span> <span class="hljs-title function_">preprocess_sentences</span>(<span class="hljs-params">text</span>):
    text = text.lower()
    words = nltk.word_tokenize(text)
    my_sent=[lemmatizer.lemmatize(word) <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words <span class="hljs-keyword">if</span> word <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> stopwords.words(<span class="hljs-string">'english'</span>)]
    finalsent = <span class="hljs-string">' '</span>.join(my_sent)

    finalsent = finalsent.replace(<span class="hljs-string">"n't"</span>, <span class="hljs-string">" not"</span>)
    finalsent = finalsent.replace(<span class="hljs-string">"'m"</span>, <span class="hljs-string">" am"</span>)
    finalsent = finalsent.replace(<span class="hljs-string">"'s"</span>, <span class="hljs-string">" is"</span>)
    finalsent = finalsent.replace(<span class="hljs-string">"'re"</span>, <span class="hljs-string">" are"</span>)
    finalsent = finalsent.replace(<span class="hljs-string">"'ll"</span>, <span class="hljs-string">" will"</span>)
    finalsent = finalsent.replace(<span class="hljs-string">"'ve"</span>, <span class="hljs-string">" have"</span>)
    finalsent = finalsent.replace(<span class="hljs-string">"'d"</span>, <span class="hljs-string">" would"</span>)
    
    <span class="hljs-keyword">return</span> finalsent

finaldata[<span class="hljs-string">"new_plot"</span>]= finaldata[<span class="hljs-string">"Plot"</span>].apply(preprocess_sentences)
finaldata.head()</code></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio">&nbsp;</pre>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio"><strong><em>4: Use TF-IDF to vectorize preprocessed movie plots</em></strong></p>
<pre><code class="language-python hljs" contenteditable="true"><span class="hljs-keyword">from</span> sklearn.feature_extraction.text <span class="hljs-keyword">import</span> TfidfVectorizer
  
tfidf = TfidfVectorizer()
tfidf_movieid = tfidf.fit_transform((finaldata[<span class="hljs-string">"new_plot"</span>]))

<span class="hljs-comment"># Finding cosine similarity between vectors</span>
<span class="hljs-keyword">from</span> sklearn.metrics.pairwise <span class="hljs-keyword">import</span> cosine_similarity
similarity = cosine_similarity(tfidf_movieid, tfidf_movieid)</code></pre>
<pre><code class="language-python hljs" contenteditable="true">indices = pd.Series(finaldata.index)
<span class="hljs-keyword">def</span> <span class="hljs-title function_">recommendations</span>(<span class="hljs-params">title, cosine_sim = similarity</span>):
  <span class="hljs-keyword">try</span>:
    index = indices[indices == title].index[<span class="hljs-number">0</span>]
    <span class="hljs-built_in">print</span>(index)
    similarity_scores = pd.Series(cosine_sim[index]).sort_values(ascending = <span class="hljs-literal">False</span>)
    <span class="hljs-built_in">print</span>(similarity_scores)
    top_10_movies = <span class="hljs-built_in">list</span>(similarity_scores.iloc[<span class="hljs-number">1</span>:<span class="hljs-number">11</span>].index)
    <span class="hljs-built_in">print</span>(top_10_movies)
    recommended_movies = [<span class="hljs-built_in">list</span>(finaldata.index)[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> top_10_movies]
    <span class="hljs-keyword">return</span> recommended_movies
  <span class="hljs-keyword">except</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"No movie name found"</span>)</code></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio">&nbsp;</pre>
<p class="wp-embed-aspect-16-9 wp-has-aspect-ratio"><strong><em>5: Final predictions</em></strong></p>
<pre><code class="language-python hljs" contenteditable="true">recommendations(<span class="hljs-string">"Harry Potter and the Chamber of Secrets"</span>)</code></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio"><span style="color: #000000; font-family: sans-serif; font-size: 1rem;">Output:</span></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio"><img style="width: 384px;" src="https://drive.google.com/thumbnail?id=1iTzrLcLVBQWQheumogBkN96lKwpHNCRx&amp;sz=w1000" data-filename="harry-potter.png"></pre>
<pre><code class="language-python hljs" contenteditable="true">recommendations(<span class="hljs-string">"Spider-Man"</span>)</code></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio"><span style="color: #000000; font-family: sans-serif; font-size: 1rem;">Output:</span></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio"><img style="width: 389px;" src="https://drive.google.com/thumbnail?id=1y9sOW1qOkOYHvlxfzTKXBxHKVp_8zZXY&amp;sz=w1000" data-filename="spider-man.png"></pre>
<pre><code class="language-python hljs" contenteditable="true">recommendations(<span class="hljs-string">"Ice Age"</span>)</code></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio"><span style="color: #000000; font-family: sans-serif; font-size: 1rem;">Output:</span></pre>
<pre class="wp-block-syntaxhighlighter-code wp-embed-aspect-16-9 wp-has-aspect-ratio"><img style="width: 318px;" src="https://drive.google.com/thumbnail?id=1f0gOFL4j-zN2hrcHAS1DBsCDoA2c9Pk7&amp;sz=w1000" data-filename="ice-age.png"></pre>
<figure class="wp-block-image size-large"></figure>
<h2 class="wp-block-heading">Conclusion</h2>
<p>In this post, I have clearly explained the Bag of Words and the TF-IDF models which are key concepts in Natural Language Processing. I have made a complete project on the Movie Recommendation System with the TF-IDF model. I hope you like this project.</p>
<p><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:heading --><!-- /wp:heading --><!-- wp:list {"ordered":true} --><!-- /wp:list --><!-- wp:heading --><!-- /wp:heading --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:image {"id":1289,"sizeSlug":"large","linkDestination":"none","align":"center"} --><!-- /wp:image --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:image {"id":1291,"sizeSlug":"large","linkDestination":"none"} --><!-- /wp:image --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:embed {"url":"https://youtu.be/L8X84Fq0ZkE","type":"video","providerNameSlug":"youtube","responsive":true,"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:embed --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:heading --><!-- /wp:heading --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:image {"id":1292,"sizeSlug":"large","linkDestination":"none"} --><!-- /wp:image --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:embed {"url":"https://youtu.be/V1dHstesbos","type":"video","providerNameSlug":"youtube","responsive":true,"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:embed --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:heading --><!-- /wp:heading --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:embed {"url":"https://youtu.be/7GaAp0XkLpM","type":"video","providerNameSlug":"youtube","responsive":true,"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:embed --><!-- wp:heading {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:heading --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:image {"id":1293,"sizeSlug":"large","linkDestination":"none"} --><!-- /wp:image --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:image {"id":1294,"sizeSlug":"large","linkDestination":"none"} --><!-- /wp:image --><!-- wp:syntaxhighlighter/code {"language":"python","className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:syntaxhighlighter/code --><!-- wp:paragraph {"className":"wp-embed-aspect-16-9 wp-has-aspect-ratio"} --><!-- /wp:paragraph --><!-- wp:image {"id":1295,"sizeSlug":"large","linkDestination":"none"} --><!-- /wp:image --><!-- wp:heading --><!-- /wp:heading --><!-- wp:paragraph --><!-- /wp:paragraph --><!-- wp:paragraph --><!-- /wp:paragraph --></p>
<p>If you have any questions, ask me in the comment section. I will be back to you as soon as possible. Keep learning.</p></div>

<script>
  if (window.hljs) {
    hljs.highlightAll();
  }
</script>
</div>

<!-- Comment section -->
<div class="comments-wrapper">
  <h4>Leave a Comment</h4>
  <form method="POST" class="p-3 bg-light rounded shadow">
    <input type="hidden" name="parent_id" value="" />

    <div class="form-group">
      <label>Your Name</label>
      <input type="text" name="name" class="form-control" required />
    </div>

    <div class="form-group">
      <label>Your Comment</label>
      <textarea name="content" class="form-control" rows="3" required></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Post Comment</button>
  </form>
</div>
<hr />



        <style>
        .comment-container {
            margin-left: 20px;
            margin-bottom: 1rem;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .comment-header {
            font-weight: 600;
            font-size: 0.95rem;
            color: #333;
            margin-bottom: 0.3rem;
        }

        .comment-timestamp {
            font-weight: 400;
            font-size: 0.8rem;
            color: #777;
            margin-left: 0.5rem;
        }

        .comment-content {
            margin-bottom: 0.8rem;
            white-space: pre-wrap;
        }

        .reply-link {
            font-size: 0.85rem;
            color: #1877f2;
            cursor: pointer;
            user-select: none;
        }

        .reply-link:hover {
            text-decoration: underline;
        }

        .reply-form {
            margin-top: 0.8rem;
            display: none;
        }

        .reply-form input,
        .reply-form textarea {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .reply-form button {
            font-size: 0.85rem;
        }

        /* Nested replies indent */
        .nested-replies {
            margin-left: 30px;
            margin-top: 1rem;
        }

        .comments-wrapper {
            margin: 20px auto;
            padding: 15px 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            font-family: Arial, sans-serif;
        }

        .comments-wrapper h4 {
            margin-bottom: 15px;
            color: #333;
            font-weight: 600;
            font-size: 1.5rem;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 5px;
        }
        </style>

      <div class="comments-wrapper">
        <h4>Comments</h4>
        <div class="comment-container">
            <p>Loading comments...</p>
        </div>
        </div>

        <script>
        (function () {
          const form = document.querySelector("form");
          const commentsContainer = document.querySelector(".comment-container");
          if (!form || !commentsContainer) return;

          const slug = "bag-of-words-and-tf-idf-make-a-powerful-movie-recommendation-system";
          const submitBtn = form.querySelector("button[type='submit']");

          form.addEventListener("submit", function (e) {
            e.preventDefault();
            const data = {
              slug,
              name: form.name.value.trim(),
              content: form.content.value.trim(),
              parent_id: form.parent_id.value || null,
            };

            if (!data.name || !data.content) {
              alert("Please fill in your name and comment.");
              return;
            }

            const originalText = submitBtn.textContent;
            submitBtn.disabled = true;
            submitBtn.textContent = "Posting...";

            fetch("/.netlify/functions/submit_comment", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(data),
            })
            .then(res => {
              submitBtn.disabled = false;
              submitBtn.textContent = originalText;
              if (res.ok) {
                alert("Comment submitted!");
                form.reset();
                loadComments();
              } else {
                return res.text().then(text => alert("Failed: " + text));
              }
            })
            .catch(err => {
              submitBtn.disabled = false;
              submitBtn.textContent = originalText;
              alert("Error: " + err.message);
            });
          });

          function loadComments() {
            fetch(`/.netlify/functions/get_comments?slug=${encodeURIComponent(slug)}`)
              .then(res => {
                if (!res.ok) throw new Error("Failed to load comments");
                return res.json();
              })
              .then(comments => {
                commentsContainer.innerHTML = "";
                const map = {};
                comments.forEach(c => {
                  c.children = [];
                  map[c.id] = c;
                });
                comments.forEach(c => {
                  if (c.parent_id && map[c.parent_id]) {
                    map[c.parent_id].children.push(c);
                  }
                });

                const render = (comment) => {
                  const wrapper = document.createElement("div");
                  wrapper.className = "comment-container";

                  const header = document.createElement("div");
                  header.className = "comment-header";
                  header.innerHTML = `<strong>${escapeHtml(comment.name)}</strong><span class="comment-timestamp"> - ${new Date(comment.timestamp).toLocaleString()}</span>`;
                  wrapper.appendChild(header);

                  const content = document.createElement("div");
                  content.className = "comment-content";
                  content.textContent = comment.content;
                  wrapper.appendChild(content);

                  const replyLink = document.createElement("span");
                  replyLink.className = "reply-link";
                  replyLink.textContent = "Reply";
                  replyLink.onclick = () => toggleReplyForm(`reply-form-${comment.id}`);
                  wrapper.appendChild(replyLink);

                  const replyForm = document.createElement("form");
                  replyForm.method = "POST";
                  replyForm.className = "reply-form";
                  replyForm.id = `reply-form-${comment.id}`;
                  replyForm.innerHTML = `
                    <input type="hidden" name="parent_id" value="${comment.id}" />
                    <input type="text" name="name" placeholder="Your Name" class="form-control form-control-sm" required />
                    <textarea name="content" placeholder="Write a reply..." class="form-control form-control-sm" rows="2" required></textarea>
                    <button type="submit" class="btn btn-sm btn-primary">Post Reply</button>
                  `;
                  replyForm.addEventListener("submit", function (e) {
                    e.preventDefault();
                    const replyData = {
                      slug,
                      name: replyForm.name.value.trim(),
                      content: replyForm.content.value.trim(),
                      parent_id: comment.id,
                    };

                    if (!replyData.name || !replyData.content) {
                      alert("Please fill in your name and reply.");
                      return;
                    }

                    const replyBtn = replyForm.querySelector("button");
                    const originalText = replyBtn.textContent;
                    replyBtn.disabled = true;
                    replyBtn.textContent = "Posting...";

                    fetch("/.netlify/functions/submit_comment", {
                      method: "POST",
                      headers: {
                        "Content-Type": "application/json",
                      },
                      body: JSON.stringify(replyData),
                    })
                      .then(res => {
                        replyBtn.disabled = false;
                        replyBtn.textContent = originalText;
                        if (res.ok) {
                          alert("Reply submitted!");
                          replyForm.reset();
                          replyForm.style.display = "none";
                          loadComments();
                        } else {
                          return res.text().then(text => alert("Failed: " + text));
                        }
                      })
                      .catch(err => {
                        replyBtn.disabled = false;
                        replyBtn.textContent = originalText;
                        alert("Error: " + err.message);
                      });
                  });
                  wrapper.appendChild(replyForm);

                  if (comment.children.length) {
                    const nested = document.createElement("div");
                    nested.className = "nested-replies";
                    comment.children.forEach(child => nested.appendChild(render(child)));
                    wrapper.appendChild(nested);
                  }

                  return wrapper;
                };

                const topLevel = comments.filter(c => !c.parent_id);
                if (topLevel.length === 0) {
                  commentsContainer.innerHTML = "<p>No comments yet. Be the first to comment!</p>";
                } else {
                  topLevel.forEach(c => commentsContainer.appendChild(render(c)));
                }
              })
              .catch(err => {
                commentsContainer.innerHTML = "<p>Failed to load comments.</p>";
                console.error(err);
              });
          }

          function toggleReplyForm(id) {
            const form = document.getElementById(id);
            if (form) {
              const isHidden = window.getComputedStyle(form).display === "none";
              form.style.display = isHidden ? "block" : "none";
            }
          }

          function escapeHtml(text) {
            return text
              .replace(/&/g, "&amp;")
              .replace(/</g, "&lt;")
              .replace(/>/g, "&gt;")
              .replace(/"/g, "&quot;")
              .replace(/'/g, "&#039;");
          }

          loadComments();
        })();
        </script>
        
<!-- Post Footer -->
<footer
  class="post-footer"
  style="
    margin-top: 2rem;
    background: #f1f3f6;
    padding: 2rem;
    border-radius: 16px;
    text-align: center;
    font-size: 0.95rem;
    color: #444;
    box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.05);
  "
>
  <p><strong>Author:</strong> Ishwar Gautam</p>

  <!-- Buttons -->
  <div style="margin: 1rem 0">
    <a
      href="/"
      class="btn btn-outline-primary"
      style="margin-right: 1rem"
      >‚Üê Back to Home</a
    >
    <a
      href="#"
      onclick="window.scrollTo({top: 0, behavior: 'smooth'});"
      class="btn btn-primary"
      >‚Üë Back to Top</a
    >
  </div>

  <!-- Social Icons -->
  <div class="social-icons" style="margin-top: 1.5rem">
    <a
      href="https://www.facebook.com/igtechteam/"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #3b5998"
      ><i class="fab fa-facebook"></i
    ></a>
    <a
      href="https://www.instagram.com/ishwar_gautam1/"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #e4405f"
      ><i class="fab fa-instagram"></i
    ></a>
    <a
      href="https://github.com/ishwargautam"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #333"
      ><i class="fab fa-github"></i
    ></a>
    <a
      href="https://www.linkedin.com/in/ishwargautam1"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #0077b5"
      ><i class="fab fa-linkedin"></i
    ></a>
    <a
      href="https://www.tiktok.com/@ishwar.gautam1?_t=8pdEalQ0Nn7&_r=1"
      target="_blank"
      style="margin: 0 10px; font-size: 1.5rem; color: #000"
      ><i class="fab fa-tiktok"></i
    ></a>
  </div>

  <!-- YouTube Subscribe -->
  <div style="margin-top: 1.5rem">
    <a
      class="youtube-btn"
      href="https://www.youtube.com/channel/UC4Wf9XNPsbXwQqfKlUZfmtw?sub_confirmation=1"
      target="_blank"
      style="
        background: #ff0000;
        color: white;
        padding: 0.6rem 1.2rem;
        border-radius: 30px;
        text-decoration: none;
        font-weight: bold;
        transition: background 0.3s ease;
      "
    >
      üîî Subscribe on YouTube
    </a>
  </div>
</footer>

</div>

    <!-- Footer -->
    
<!-- Leaving this empty so to skip base.html footer-->


    <!-- TinyMCE Initialization (official example, all features) -->
    <script>
      tinymce.init({
        selector: 'textarea.tinymce-editor',
        plugins: [
          // Core editing features
          'anchor', 'autolink', 'charmap', 'codesample', 'emoticons', 'link', 'lists', 'media', 'searchreplace', 'table', 'visualblocks', 'wordcount', 'fullscreen',
          // Free trial premium features (if available for your key)
          'checklist', 'mediaembed', 'casechange', 'formatpainter', 'pageembed', 'a11ychecker', 'tinymcespellchecker', 'permanentpen', 'powerpaste', 'advtable', 'advcode', 'advtemplate', 'ai', 'uploadcare', 'mentions', 'tinycomments', 'tableofcontents', 'footnotes', 'mergetags', 'autocorrect', 'typography', 'inlinecss', 'markdown', 'importword', 'exportword', 'exportpdf'
        ],
        toolbar: 'fullscreen | undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography uploadcare | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat',
        tinycomments_mode: 'embedded',
        tinycomments_author: 'Author name',
        mergetags_list: [
          { value: 'First.Name', title: 'First Name' },
          { value: 'Email', title: 'Email' },
        ],
        ai_request: (request, respondWith) => respondWith.string(() => Promise.reject('See docs to implement AI Assistant')),
        uploadcare_public_key: 'd857dd4d5adbe5038f25',
        height: 300,
        menubar: true,
        branding: false,
        content_style: 'body { font-family: Segoe UI,Arial,sans-serif; font-size:14px }',
      });
    </script>
  </body>
</html>